<html>
<header>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<script type="text/javascript" src="../static/js/jquery-1.11.0.min.js"></script>
<style type="text/css">
#bg{
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	background-color: #00FF00;
}
#navi{
	position: absolute;
	top: 0px;
	width: 1000px;
	height: 30px;
	background-color: #0000FF;
	text-align: right;
}
#left{
	position: absolute;
	top: 30px;
	width: 200px;
	height: 400px;
	background-color: #00FFFF;
}
#cm{
	position: absolute;
	top: 430px;
	width: 200px;
	height: 200px;
	background-color: #FF00FF;
}
#main{
	position: absolute;
	top: 30px;
	width: 600px;
}
#right{
	position: absolute;
	top: 30px;
	width: 200px;
	background-color: #FFFF00;
}
#profile{
	top: 30px;
	width: 200px;
	height: 310px;
	background-color: #770000;
}
#rolelist{
	top: 340px;
	width: 200px;
	height: 90px;
	background-color: #770000;
}
div.role{
	width: 200px;
	height: 30px;
	background-color: #007700;
}
div.post{
	width: 500px;
	background-color: rgba(255,255,255,100);
	margin : 5px;
}
</style>
<script type="text/javascript">
var w_width, w_height, c_left, c_height;

function setFrame() {
	w_width = window.innerWidth ? window.innerWidth : $(window).width();
	c_left = 0;
	if (w_width > 1000) {
		c_left = (w_width - 1000)/2;
	}

	w_height = window.innerHeight ? window.innerHeight : $(window).height();
	c_height = w_height - 30;
	if (w_height < 600) {
		c_height = 600;
	}

	$("#bg").css("height", c_height+30);
	$("#navi").text("c_left=" + c_left + ";w_width=" + w_width);
	$("#navi").css("left", c_left);
	$("#left").css("left", c_left);
	$("#cm").css("left", c_left);
	$("#main").css("left", c_left+200);
	$("#main").css("height", c_height);
	$("#main").text("c_left=" + c_left+200);
	$("#right").css("left", c_left+800);
	$("#right").css("height", c_height);
	$("#right").text("c_height=" + c_height + ";w_height=" + w_height);

	var newaccount = document.createElement("input");
	newaccount.type = "button";
	newaccount.value = "new account";
	newaccount.onclick = function() {
		alert("new account");
	}
	document.getElementById("right").appendChild(newaccount);
}

var role_list = ["role1@hm", "role2@hm", "role3@hm"];

function clickRole(role) {
	var hit;

	for (var i=0; i < role_list.length; i++) {
		if (role.id == role_list[i]) {
			if (i != 0) {
				hit = role_list[i];
				role_list[i] = role_list[0];
				role_list[0] = hit;
			}
			break;
		}
	}

	setRole();
}

function setRole() {
	var role_top = 430;
	var role_cnt = role_list.length;
	$("#rolelist").html("");
	for (var i = 0; i < role_cnt; i++) {
		$("#rolelist").append("<div id='"+role_list[i]+"' class='role' style='left:"+c_left+";top:"+role_top+"' onclick='clickRole(this)'>"+role_list[i]+"</div>");
		role_top += 30;
	}
}

function setLeft() {
	$("#left").append("<div id='profile' class='profile' style='left:"+c_left+"'>profile</div>");

	$("#left").append("<div id='rolelist' class='rolelist' style='left:"+c_left+"'>profile</div>");

	setRole();
}

function setPost() {
	$("#main").append("<div id='post01' class='post'>post01</div>");
	$("#main").append("<div id='post02' class='post'>post02 post02 post02 post02 post02 post02 post02 post02 post02 post02 post02 post02 post02 post02</div>");
	$("#main").append("<div id='post03' class='post'>理由は半角英数の連なりは1単語として判断されるから。理由は半角英数の連なりは1単語として判断されるから。</div>");
}

$(function(){
	setFrame();
	setLeft();
	setPost();
});

$(window).resize(function() {
	setFrame();
});

</script>
</header>
<body>
<div id="bg">
  <div id="navi">Navi</div>
  <div id="left"></div>
  <div id="cm">cm</div>
  <div id="main">main</div>
  <div id="right">right</div>
</div>
</body>
</html>